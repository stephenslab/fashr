% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/04_fash.R
\name{simulate_fash_prior}
\alias{simulate_fash_prior}
\title{Simulate sample paths from the FASH prior}
\usage{
simulate_fash_prior(
  fash_obj,
  M = 100,
  constraints = c("none", "initial", "orthogonal"),
  x_range = NULL,
  x_new = NULL
)
}
\arguments{
\item{fash_obj}{A fitted \code{fash} object containing:
\itemize{
  \item \code{prior_weights}: a data frame with columns \code{psd} and \code{prior_weight};
  \item \code{settings}: a list with elements \code{num_basis}, \code{order},
        \code{pred_step}, \code{betaprec}.
}}

\item{M}{Integer; total number of prior samples to draw.}

\item{constraints}{Character; one of:
\code{"none"}, \code{"initial"}, \code{"orthogonal"}.}

\item{x_range}{Optional numeric vector of length 2 defining the simulation
domain. If missing, inferred from the data.}

\item{x_new}{Optional numeric vector giving evaluation points for the samples.}
}
\value{
A list containing:
\describe{
  \item{samples}{A matrix of size \code{length(x_new) Ã— M}; each column is a sampled function.}
  \item{x_new}{Evaluation grid.}
  \item{psd}{Length-\code{M} vector giving the PSD used for each sample.}
  \item{component}{Length-\code{M} vector giving mixture component index used.}
  \item{prior_weights}{Original prior weights.}
  \item{settings}{Settings used in the simulation.}
}
}
\description{
This function simulates sample paths from the prior over effect functions
implied by a fitted \code{fash} object. The prior is treated as a finite
mixture over predictive standard deviation (PSD) values stored in
\code{fash_obj$prior_weights}. Each sample path is drawn from an integrated
Wiener process (IWP) prior plus a global polynomial trend.
}
\details{
The function provides optional constraints on the global polynomial
component:
\itemize{
  \item \code{"none"}: use the polynomial variance from the fitted model (default)
  \item \code{"initial"}: force the polynomial part to be identically zero
        (equivalent to letting betaprec = Inf)
  \item \code{"orthogonal"}: regress out the polynomial trend from each sample
        so that the resulting sample path is orthogonal to all global
        polynomial basis functions
}
}
